@startuml water_state
hide empty description

state standby {
  standby: feed off
  standby: pump off
  standby: purge on
}

state running {
  running : feed on
  running : purge off
  running : pump on
}

state prime {
  prime : feed on
  prime : purge on
  prime : pump off
}

state rinse {
  rinse : feed on
  rinse : purge on 
  rinse : pump on
}

[*] --> standby
standby --> confirmStart : touch_standby
confirmStart --> standby : start_declined
confirmStart --> prime : start_accepted
prime --> rinse : t_prime
rinse --> running : t_rinse_start
running --> confirmStop : touch_running
confirmStop --> running : stop_declined
confirmStop --> rinse : stop_accepted
rinse --> standby : t_rinse_stop
running --> rinse : run_timer

@enduml